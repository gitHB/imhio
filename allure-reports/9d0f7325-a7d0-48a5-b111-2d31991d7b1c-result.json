{"name": "test_show_feedback_window_scenario[6-desktop]", "status": "failed", "statusDetails": {"message": "AssertionError: Не открылось окно комментария, а должно было, см.скриншот: feedback_window_not_visible_err", "trace": "user_action = '6', user_agent = 'desktop'\nrequest = <FixtureRequest for <Function 'test_show_feedback_window_scenario[6-desktop]'>>\n\n    @scenario('always_show/when_show_comment.feature', 'Проверка появления окна комментария для оценок <=6')\n>   def test_show_feedback_window_scenario():\n\nbdd\\main_scenarios.py:63: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\hansb\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\pytest_bdd\\scenario.py:194: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\nC:\\Users\\hansb\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\pytest_bdd\\scenario.py:136: in _execute_step_function\n    step_func(**kwargs)\nbdd\\always_show\\when_show_comment_steps.py:8: in show_window\n    app.fw.is_visible(must_be_visible=True)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <fixture.feedback_window.FeedbackWindowHelper object at 0x0A1B0BB0>\nmust_be_visible = True\n\n    def is_visible(self, must_be_visible=True):\n        wd = self.app.wd\n        wait = WebDriverWait(wd, 5)\n        class_name = \"NPS__feedback-title\"\n        visible = False\n        if wd.find_elements_by_class_name(class_name):\n            wait.until(EC.visibility_of_element_located((By.CLASS_NAME, class_name)))\n            visible = True\n        else:\n            try:\n                wait.until(EC.visibility_of_element_located((By.ID, class_name)))\n            except TimeoutException:\n                visible = False\n        if must_be_visible and not visible:\n            self.app.get_screenshot(\"feedback_window_not_visible_err\")\n>           assert False, \"Не открылось окно комментария, а должно было, см.скриншот: feedback_window_not_visible_err\"\nE           AssertionError: Не открылось окно комментария, а должно было, см.скриншот: feedback_window_not_visible_err\n\nfixture\\feedback_window.py:37: AssertionError"}, "description": "always_show/when_show_comment.feature: Проверка появления окна комментария для оценок <=6", "steps": [{"name": "When открыть главную страницу", "status": "passed", "start": 1558684641138, "stop": 1558684641207}, {"name": "When удалить все cookie", "status": "passed", "start": 1558684641208, "stop": 1558684641213}, {"name": "When обновить страницу", "status": "passed", "start": 1558684641214, "stop": 1558684641275}, {"name": "When выбрать в появившемся окне вариант <user_action> для: <user_agent>", "status": "passed", "start": 1558684641275, "stop": 1558684641392}, {"name": "then окно комментария должно появиться", "status": "failed", "statusDetails": {"message": "AssertionError: Не открылось окно комментария, а должно было, см.скриншот: feedback_window_not_visible_err\n", "trace": "  File \"E:\\imhio\\bdd\\always_show\\when_show_comment_steps.py\", line 8, in show_window\n    app.fw.is_visible(must_be_visible=True)\n  File \"E:\\imhio\\fixture\\feedback_window.py\", line 37, in is_visible\n    assert False, \"Не открылось окно комментария, а должно было, см.скриншот: feedback_window_not_visible_err\"\n"}, "attachments": [{"name": "feedback_window_not_visible_err", "source": "9f050268-bfe4-44d2-ab1e-0c13bf4c2275-attachment.png", "type": "image/png"}], "start": 1558684641393, "stop": 1558684646970}], "parameters": [{"name": "user_action", "value": "'6'"}, {"name": "user_agent", "value": "'desktop'"}], "start": 1558684641131, "stop": 1558684646972, "uuid": "02eb97f0-a247-4c9d-8ec5-aa3985458533", "historyId": "e5558e14e2af42cc18ff7a7f06017998", "fullName": "bdd.main_scenarios#test_show_feedback_window_scenario[6-desktop]", "labels": [{"name": "tag", "value": "always_show"}, {"name": "tag", "value": "when_show_comment"}, {"name": "parentSuite", "value": "bdd"}, {"name": "suite", "value": "main_scenarios"}, {"name": "host", "value": "DESKTOP-3PRQ2QL"}, {"name": "thread", "value": "1448-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "bdd.main_scenarios"}]}